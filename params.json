{"name":"Accounting research data","tagline":"Code to pull together data","body":"Data for accounting research\r\n=========\r\n\r\nThis repository contains code to pull together data from various sources including:\r\n- WRDS\r\n- SEC EDGAR\r\n- Ken French's website\r\n- [Whalewisdom](whalewisdom/README.md)\r\n\r\nNote that some of these data sets are proprietary, so the code will only work if you have access to the data in some form.\r\n\r\n- `wrds_to_pg`: This Perl script takes the following options:\r\n    - `--fix-missing`: SAS's `PROC EXPORT` converts special missing values (e.g., `.B`) to strings. So my code converts these to \"regular\" missing values so that PostgreSQL can handle them as missing values of the correct type.\r\n    - `--wrds-id=wrds_id`: Specify your WRDS ID here\r\n    - `--dbname=dbname`: My database is called `crsp`, so I say `--dbname=crsp` here\r\n    - `--updated=some_string`: This is used by the script `wrds_to_pg_v2` to check if the table on WRDS has been updated since it was last pulled into the database.\r\n\r\n- `wrds_to_pg_v2`: Except for `updated` this has the same options as the `wrds_to_pg` script. But this script compares the local and WRDS versions of the data and only updates if it needs to do so.\r\n\r\nSo \r\n```\r\nwrds_to_pg_v2 crsp.msi --wrds_id=iangow --dbname=crsp\r\n```\r\nupdates the monthly stock index file from CRSP and \r\n```\r\nwrds_to_pg_v2 crsp.msf --wrds_id=iangow --dbname=crsp --fix-missing\r\n```\r\nupdates the monthly stock file from CRSP (this file has special missing values, hence the additional flag).\r\n\r\nNote that I use public-key authentication to access WRDS. Following hints taken from [here](http://www.debian-administration.org/articles/152), I set up a public key. I then copied that key to the WRDS server from the terminal on my computer. (Note that this code assumes you have a directory `.ssh` in your home directory. If not, log into WRDS via SSH, then type `mkdir ~/.ssh` to create this.) Here's code to create the key and send it to WRDS (for me):\r\n```\r\nssh-keygen -t rsa\r\ncat ~/.ssh/id_rsa.pub | ssh iangow@wrds.wharton.upenn.edu \"cat >> ~/.ssh/authorized_keys\"\r\n```\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}